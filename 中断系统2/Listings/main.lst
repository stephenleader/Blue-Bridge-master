C51 COMPILER V9.54   MAIN                                                                  02/25/2022 20:39:08 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\#大一\单片机（大一寒假）\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRIN
                    -T(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          //外部中断学习
   2          
   3          #include "reg52.h"
   4          typedef unsigned int u16;
   5          u16 count;
   6          //也可以写成unsigned int count;
   7          
   8          sbit led = P1^0;
   9          sbit key = P3^2;
  10          
  11           void ex0init(void)
  12           {
  13   1      //  TMOD = 0x01;//设置工作模式
  14   1          //相当于方式1
  15   1        //  TH0 = 0x0FF;
  16   1        //  TL0 = 0x9c;对存储器设置初值，
  17   1          //取决于设定计时多少时长
  18   1          EA = 1;//寄存器1，打开总中断
  19   1          EX0 = 1;//打开定时计数器o(to)中断
  20   1          //TR0 = 1;
  21   1       }
  22           
  23           //主函数
  24           void main(void)
  25           {
  26   1          ex0init();//to初始化
  27   1          led = 1;
  28   1          while(1);
  29   1      }
  30          //服务函数，即中断响应
  31           void Ex0Interrupt(void) interrupt 0
  32           {
  33   1          led = ~led;
  34   1          while(!key);
  35   1       }
  36           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     18    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
